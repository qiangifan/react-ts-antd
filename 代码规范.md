## react前端开发规范

### 命名
1. 变量,使用Camel(小驼峰)命名法. 例: let responseData = {};
2. 常量,使用全部字母大写,单词间下划线分隔的命名方式. 例:const PI = 3.14;
3. 函数/方法及函数/方法的参数使用Camel(小驼峰)命名法. 例:dateFormat = (stringFormat) => {};
4. 类, 使用Pascal(大驼峰)命名法. 例:Class EditModal extends React.Component {}
5. 命名语法
> 变量名前缀应当是名词.
  ```
    // 好的命名方式
    var maxCount = 10;
    var tableTitle = 'LoginTable';

    // 不好的命名方式
    var setCount = 10;
    var getTitle = 'LoginTable';
  ```
>  
> boolean类型的变量使用is或has开头. 例: let isReadLoading = true,hasMoreContent = false;
> 
> 函数名或功能组件,前缀使用动词. 例: Class EditModal extends React.Component{ getInfo = ()=>{}} 
> 
> Promise对象使用动词的进行时表达. 例: gettingContentInfo = ()=> {return new Promise();}
> 
> 


### 注释
1. props和state中声明的变量,使用单行注释且必须独占一行,说明代表的作用/涵义
    ```
        state = {
            //加载数据列表时的loading状态
            listLoading:true,
            //新增或编辑弹窗的显隐开关
            modalVisible:false
        }
    ```
2. 函数/方法中使用的局部变量,使用单行注释且必须独占一行,说明代表的作用/涵义
     ```
       private writeBackData (reqData:any) {
           //将其他数据类型转化为任意类型,进行属性读取
           let data:any = Object.assign({},reqData);
           // 数据提交的参数对象
           let param:any = {};
           // 操作状态,true为新增 false为编辑
           let handleFlag = false;
       }
    ```
3. 函数/方法的注释和必要的业务逻辑说明要使用多行注释
    ```
    /**
       * 函数功能描述
       *
       * @param {string} p1 参数1的说明
       * @param {number} p2 参数2的说明，比较长
       *     那就换行了.
       * @param {any} p3 参数3的说明（可选）
       * @author 编写函数/方法的作者名（汉字或拼音）
       * @return {Object} 返回值描述
       */
      function foo(p1:string, p2:number, p3:any) {
           /**
             * 1 人工审核不通过操作按钮全部隐藏
             * 2 人工处于待审显示，显示通过 不通过 编辑三个按钮
             * 3 人工通过显示，显示不通过 编辑二个按钮
             * personReviewTotal人审, reviewTotal机审
            */
          var p3 = p3 || 10;
          return {
              p1: p1,
              p2: p2,
              p3: p3
          };
      }
    ```

### if语句缩减
1. 使用条件(三元)操作符 (?:). 但是当条件超过3个以上时不可使用.  例:val === 1 ? foo() : bar();
2. 使用短路运算符(&&和||). 例: let resourceData = res.data || [];

### 其他规则
1. 在tsx中,className属性无需条件判定的,使用双引号直接写样式类名(className="search-input")
2. 能使用antd等UI库已提供的控件实现的,尽可能的使用
3. 
 
#### 参考链接 https://www.w3cschool.cn/webdevelopment/jpbfrozt.html

---

## less规范

### 目录结构
```
- globalLess            less的全局主目录
  |- variable               less的变量目录
     |- color.less              颜色变量声明文件
     |- size.less               尺寸大小变量声明文件
     |- ...                     其他变量声明文件
     |- index.less              变量的声明和引用的主文件
  |- space                  声明间距样式目录
     |- margin.less             margin间距的样式类文件
     |- padding.less            padding间距的样式类文件
     |- index.less              间距样式的定义和引用的主文件
  |- font                   字体样式目录
     |- index.less              字体样式定义的主文件
  |- extendsAntd             定制或扩展antd的样式目录                   
     |- layout                  定制或扩展antd的布局目录
        |- index.less              定制或扩展antd的布局样式的主文件
     |- modal                   定制或扩展antd的弹窗目录
        |- index.less              定制或扩展antd的弹窗样式的主文件
     |- ...                     其他定制或扩展的目录及主文件
     |- index.less              定制或扩展antd的样式全部引用的主文件
  |- module                 业务模块样式目录
     |- roleModule              角色模块目录
        |- ...
        |- index.less               模块样式主文件
     |- ...                     其他模块目录
     |- index.less          引用全部模块样式文件的主文件
  |- index.less         全局样式的主文件
     
```

### 代码顺序组织
```
//1. @import
@import "mixins/size.less";
//2. 变量声明
@default-text-color: #333;
//3. 样式声明
.page {
    width: 960px;
    margin: 0 auto;
}
```

### 样式属性声明的顺序/优先级
```
// Positioning > Box model > Typographic > Visual
// 定位 > 盒模型 > 排版 > 视图效果
.declaration-order {
  /* Positioning */
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 100;

  /* Box model */
  display: block;
  box-sizing: border-box;
  width: 100px;
  height: 100px;
  padding: 10px;
  border: 1px solid #e5e5e5;
  border-radius: 3px;
  margin: 10px;
  float: right;
  overflow: hidden;

  /* Typographic */
  font: normal 13px "Helvetica Neue", sans-serif;
  line-height: 1.5;
  text-align: center;

  /* Visual */
  background-color: #f5f5f5;
  color: #fff;
  opacity: .8;

  /* Other */
  cursor: pointer;
}
```

### 命名
1. 基础命名规则:
   > 1. 类名全部小写
   > 2. 多个单词用中横线(-)分割
2. 模块命名规则,模块名称加module后缀,多个词用中横线分割. 例: .content-info-module{}
3. 元素命名规则,功用描述加元素类型(辨识度高的元素可以使用缩写)后缀,多个词用中横线分割. 例:点赞按钮 (.like-button |.like-btn) 搜索输入框(.search-input)
4. 组件命名规则,组件名称加comps后缀,多个词用中横线分割. 例: 搜索面板(.search-panel-comps)

### 规避
1. 避免标签选择器,任何时候尽可能的使用className
2. 避免过分嵌套,多个嵌套容易失去控制，应保持不超过一层嵌套
   ```
    /* 不优秀 */
    .image-frame {
        > .description {
        /* ... */
            > .icon {
                /* ... */
            }
        }
    }

    /* 优秀 */
    .image-frame {
        > .description { /* ... */ }
        > .description > .icon { /* ... */ }
    }
   ```

### 注释
1. 使用单行注释,独立占用一行
2. 当组件由多部分组成,每部分的主类名上添加注释,标记说明其作用
```
.search-panel-comps{
    //搜索面板布局
    .panel-layout { /* ... */ }
    //搜索面板表单
    .panel-form { /* ... */ }
}
```

#### 参考链接 https://www.w3cschool.cn/webdevelopment/8jsogozt.html